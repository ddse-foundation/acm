<svg xmlns="http://www.w3.org/2000/svg" width="640" height="240" viewBox="0 0 640 240" role="img" aria-labelledby="title desc">
  <title id="title">Plan, Execute, Replay flow</title>
  <desc id="desc">Diagram showing the ACM lifecycle from planning to execution to replay with governance signals</desc>
  <defs>
    <linearGradient id="planGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#dbeafe" />
      <stop offset="100%" stop-color="#60a5fa" />
    </linearGradient>
    <linearGradient id="executeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ccfbf1" />
      <stop offset="100%" stop-color="#34d399" />
    </linearGradient>
    <linearGradient id="replayGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ede9fe" />
      <stop offset="100%" stop-color="#c4b5fd" />
    </linearGradient>
    <style>
      :root { color-scheme: light dark; }
      .node-label { font-family: 'Inter', 'Segoe UI', sans-serif; font-size: 20px; font-weight: 600; fill: #0f172a; }
      .node-sub { font-family: 'Inter', 'Segoe UI', sans-serif; font-size: 14px; fill: #1f2937; opacity: 0.9; }
      .band-label { font-family: 'Inter', 'Segoe UI', sans-serif; font-size: 20px; font-weight: 600; fill: #f8fafc; }
      .band-sub { font-family: 'Inter', 'Segoe UI', sans-serif; font-size: 14px; fill: #e2e8f0; opacity: 0.95; }
      .arrow-label { font-family: 'Inter', 'Segoe UI', sans-serif; font-size: 13px; fill: #475569; font-weight: 500; }
      .arrow { stroke: #475569; }
      .arrowhead-path { fill: #475569; }
      .badge { font-family: 'Inter', 'Segoe UI', sans-serif; font-size: 12px; fill: #f8fafc; font-weight: 600; }
      @media (prefers-color-scheme: dark) {
        .node-label { fill: #f8fafc; }
        .node-sub { fill: #e2e8f0; opacity: 1; }
        .band-label { fill: #f8fafc; }
        .band-sub { fill: #f8fafc; opacity: 0.92; }
        .arrow-label { fill: #cbd5f5; }
        .arrow { stroke: #e2e8f0; }
        .arrowhead-path { fill: #e2e8f0; }
      }
    </style>
    <marker id="arrowhead" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path class="arrowhead-path" d="M0,0 L0,6 L9,3 z" />
    </marker>
  </defs>
  <rect x="40" y="18" rx="12" ry="12" width="560" height="36" fill="#0f172a" opacity="0.95" />
  <rect x="60" y="56" rx="20" ry="20" width="160" height="128" fill="url(#planGradient)" opacity="0.92" />
  <rect x="240" y="56" rx="20" ry="20" width="160" height="128" fill="url(#executeGradient)" opacity="0.92" />
  <rect x="420" y="56" rx="20" ry="20" width="160" height="128" fill="url(#replayGradient)" opacity="0.92" />
  <rect x="40" y="186" rx="12" ry="12" width="560" height="36" fill="#0f172a" opacity="0.95" />

  <text class="band-label" x="140" y="36" text-anchor="middle" dominant-baseline="middle">Plan</text>
  <text class="band-label" x="320" y="36" text-anchor="middle" dominant-baseline="middle">Execute</text>
  <text class="band-label" x="500" y="36" text-anchor="middle" dominant-baseline="middle">Replay</text>

  <text class="band-sub" x="140" y="204" text-anchor="middle" dominant-baseline="middle">Goals • Capabilities • Policies</text>
  <text class="band-sub" x="320" y="204" text-anchor="middle" dominant-baseline="middle">Tasks • Guards • Checkpoints</text>
  <text class="band-sub" x="500" y="204" text-anchor="middle" dominant-baseline="middle">Ledger • Bundles • Evidence</text>

  <path class="arrow" d="M220 118 H240" stroke-width="3" marker-end="url(#arrowhead)" fill="none" />
  <path class="arrow" d="M400 118 H420" stroke-width="3" marker-end="url(#arrowhead)" fill="none" />

  <text class="arrow-label" x="230" y="90" text-anchor="middle">Plan set</text>
  <text class="arrow-label" x="410" y="90" text-anchor="middle">Ledger + bundle</text>

  <rect x="118" y="148" rx="16" ry="16" width="44" height="26" fill="#1d4ed8" />
  <text class="badge" x="140" y="166" text-anchor="middle">LLMs</text>

  <rect x="298" y="148" rx="16" ry="16" width="44" height="26" fill="#047857" />
  <text class="badge" x="320" y="166" text-anchor="middle">Guards</text>

  <rect x="478" y="148" rx="16" ry="16" width="44" height="26" fill="#7c3aed" />
  <text class="badge" x="500" y="166" text-anchor="middle">Audits</text>

</svg>
